// Generated by CoffeeScript 1.3.3
(function() {
  var $el, cacheSelectors, deviceready, scan, search;

  $el = {};

  deviceready = function() {
    cacheSelectors();
    $el.body.show();
    $el.scan.on("touchstart", function() {
      $el.scan.addClass("touch");
      return setTimeout(scan, 100);
    });
    return $el.search.on("touchstart", function() {
      $el.search.addClass("touch");
      return setTimeout(search, 100);
    });
  };

  scan = function() {
    return window.plugins.barcodeScanner.scan((function(result) {
      $el.scan.removeClass("touch");
      return console.log(JSON.stringify(result));
    }), function(error) {
      return navigator.notification.alert("Scanning failed: " + error, function() {});
    });
  };

  search = function() {
    var searchWord;
    searchWord = prompt("Ange s√∂kord");
    $el.search.removeClass("touch");
    return console.log(searchWord);
  };

  cacheSelectors = function() {
    return $el = {
      body: $("body"),
      scan: $(".scan"),
      search: $(".search")
    };
  };

  window.app = {
    initialize: function() {
      return $(document).on("deviceready", deviceready);
    }
  };

}).call(this);
